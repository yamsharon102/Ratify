<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="src/myClass.css">
    <link rel="stylesheet" type="text/css" href="src/Search.css">
    <script src="src/js/app.js"></script>
    <script src="js/cookieMonster.js"></script>
</head>
<body style="background-color: #000066">

<div id="menu">
    <a href="index.html" class="active">
        <img src="imgs/Picture1.png" height="120" width="115"/>
    </a>
    <a href="index.html" style="font-size:290%">Home</a>
    <a href="Search.html" style="font-size:290%">Search</a>
    <a href="Con&Ab.html" style="font-size:145%">Contact<br>& About</a>
</div>
<div align="center">
    <table>
        <tr>
            <td>
                <img id="img" border="5px" height="180" width="240" style="margin-right: 30px"/>
            </td>
            <td>
                <p style="padding-right: 30px; color: white; font-size: 500%; font-family: 'Agency FB',serif"> <b><span id="log" ></span></b></p>
            </td>
            <td>
                <p style="color: darkgoldenrod; font-size: 250%; font-family: 'Agency FB',serif">Rating: <span id="rate"></span></p>
            </td>
        </tr>
    </table>
    <div align="center">
        <table>
            <tr>
                <td  style="padding-right: 25px">
                    <b style="color: white; font-size: 350%; font-family: 'Agency FB',serif">RATE: </b>
                </td>
                <td>
                    <form class="rating">
                        <label>
                            <input id="star1" type="radio" name="stars" value="1" checked>
                            <span class="icon">★</span>
                        </label>
                        <label>
                            <input id="star2" type="radio" name="stars" value="2" checked>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                        </label>
                        <label>
                            <input id="star3" type="radio" name="stars" value="3" checked>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                        </label>
                        <label>
                            <input id="star4" type="radio" name="stars" value="4" checked>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                        </label>
                        <label>
                            <input id="star5" type="radio" name="stars" value="5" checked>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                            <span class="icon">★</span>
                        </label>
                    </form>
                </td>
                <td  style="padding-left: 25px">
                    <button id="submit" class="button" onclick="myFunction()" style="vertical-align:middle; width: 130px"><span>Submit</span></button>
                </td>
            </tr>
        </table>

    </div>
    <div align="center">
        <p style="color: white; width: 850px; font-family: 'Agency FB',serif; font-size: 150%" id="description"></p>
    </div>
    <div align="center" style="color: darkgoldenrod;font-size: 200%; margin-top: 50px; margin-bottom: 25px">
        <b>Top 3 Songs</b>
    </div>
    <table>
            <tr>
                <div align="center">
                    <iframe style="border: white 5px" width="560" height="315" id="movie1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </tr>
            <tr>
                <div align="center">
                    <iframe style="padding-top: 25px;padding-bottom: 25px; border: white 5px"; width="560" height="315" id="movie2" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </tr>
            <tr>
                <div align="center">
                    <iframe style="border: white 5px" width="560" height="315" id="movie3" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </tr>
    </table>



</div>

<script language="JavaScript">
    var x = "";

    function setArtistMap()
    {
        var artistMap = new Map();
        artistMap.set("Ariana_Grande", "Born\n" +
            "26 June 1993, Boca Raton, FL, United States\n\n" +
            "Currently\n" +
            "New York, NY, United States\n\n" +
            "Also Known As\n" +
            "Ariana Grande-Butera [birth name]\n\n" +
            "Genres\n" +
            "Contemporary R&B, Dance-Pop, Electropop, Pop, Synthpop, Pop Rap");
        artistMap.set("Imagine_Dragons", "Formed\n" +
            "2008, Las Vegas, NV, United States\n\n" +
            "Members\n" +
            "Dan Reynolds (lead vocals, rhythm guitar, piano, keyboards, drums, percussion), Dave Lemke (bass, backing vocals, 2008–09), Andrew Beck (guitar, backing vocals, 2008), Aurora Florence (piano, keyboards, backing vocals, violin, 2008), D. Wayne Sermon (lead guitar, backing vocals, mandolin, 2009-present), Ben McKee (bass, backing vocals, piano, keyboards, synthesizer, 2009-present), Andrew Tolman (drums, percussion, backing vocals, rhythm guitar, 2008–11), Brittany Tolman (piano, keyboards, backing vocals, rhythm guitar, 2009–11), Daniel Platzman (drums, percussion, backing vocals, rhythm guitar, viola, keyboards, 2011–present), Theresa Flaminio (piano, keyboards, backing vocals, 2011–12)\n" +
            "\nRelated Artists\n" +
            "The Moth & The Flame\n" +
            "\nGenres\n" +
            "Pop Rock, Electropop, Alternative Rock, Indie Pop, Film Soundtrack, Pop Rap");
        artistMap.set("JP_Cooper", "Born\n" +
            "2 November 1983, Middleton, Greater Manchester, United Kingdom\n" +
            "\nAlso Known As\n" +
            "John Paul Cooper [birth name]");
        artistMap.set("Khalid",
            "Born\n" +
            "11 February 1998, Fort Stewart, GA, United States\n" +
            "\nCurrently\n" +
            "El Paso, TX, United States\n" +
            "\nAlso Known As\n" +
            "Khalid Donnel Robinson [birth name]\n" +
            "\nGenres\n" +
            "Alternative R&B, Contemporary R&B, Electropop, Pop, Chamber Pop, Film Soundtrack");
        artistMap.set("Maroon5", "Formed\n" +
            "2001, Los Angeles, CA, United States\n" +
            "\nMembers\n" +
            "Adam Levine (vocals, guitar), James Valentine (guitar), Jesse Carmichael (keyboards, vocals), Mickey Madden (bass), Ryan Dusick (drums, vocals, 2001-06), Matt Flynn (drums, 2006-present), PJ Morton (keyboards, piano, backing vocals, 2012-present), Sam Farrar (guitar, keyboards, synthesizer, percussion, bass, 2016-present)\n" +
            "\nRelated Artists\n" +
            "Operation Aloha\n" +
            "\nAlso Known As\n" +
            "Kara's Flowers [1994-2001], Maroon [2001]\n" +
            "\nGenres\n" +
            "Pop Rock, Pop, Dance-Pop, Electropop, Contemporary R&B, Tropical House");
        artistMap.set("Queen","Formed\n" +
            "27 June 1970, London, Greater London, United Kingdom\n" +
            "\nMembers\n" +
            "Brian May (vocals, guitar, piano, ukulele, synthesizer), Roger Taylor (vocals, drums, percussion, synthesizer, guitar, bass), Freddie Mercury (vocals, piano, synthesizer, guitar, programming, 1970-91), Mike Grose (bass, 1970), Barry Mitchell (bass, 1970-71), Doug Bogie (bass, 1971), John Deacon (bass, rhythm guitar, synthesizer, 1971-98)\n" +
            "\nRelated Artists\n" +
            "Queen + Adam Lambert, Queen + Paul Rodgers, Smile\n" +
            "\nGenres\n" +
            "Hard Rock, Pop Rock, Glam Rock, Art Rock, Rock, Film Soundtrack");
        return artistMap;
    }

    function getName(l) {
        var myMap = new Map();
        myMap.set("Ariana_Grande", "Ariana Grande");
        myMap.set("Imagine_Dragons", "Imagine Dragons");
        myMap.set("JP_Cooper", "JP Cooper");
        myMap.set("Khalid", "Khalid");
        myMap.set("Maroon5", "Maroon5");
        myMap.set("Queen","Queen");

        return myMap.get(l);
    }

    function getRate(l) {
        var myMap = new Map();
        myMap.set("Ariana_Grande", read_cookie("Ariana Grande" + "Sum") / read_cookie("Ariana Grande" + "Votes"));
        myMap.set("Imagine_Dragons", read_cookie("Imagine Dragons" + "Sum") / read_cookie("Imagine Dragons" + "Votes"));
        myMap.set("JP_Cooper", read_cookie("JP Cooper" + "Sum") / read_cookie("JP Cooper" + "Votes"));
        myMap.set("Khalid", read_cookie("Khalid" + "Sum") / read_cookie("Khalid" + "Votes"));
        myMap.set("Maroon5", read_cookie("Maroon5" + "Sum") / read_cookie("Maroon5" + "Votes"));
        myMap.set("Queen", read_cookie("Queen" + "Sum") / read_cookie("Queen" + "Votes"));

        return myMap.get(l);
    }

    function getURL(l) {
        var myMap = new Map();

        myMap.set("Ariana_Grande", ["https://www.youtube.com/embed/SXiSVQZLje8", "https://www.youtube.com/embed/gl1aHhXnN1k","https://www.youtube.com/embed/QYh6mYIJG2Y"]);
        myMap.set("Imagine_Dragons", ["https://www.youtube.com/embed/7wtfhZwyrcc","https://www.youtube.com/embed/fKopy74weus","https://www.youtube.com/embed/ktvTqknDobU"]);
        myMap.set("JP_Cooper", ["https://www.youtube.com/embed/9ORWF5RkdO0","https://www.youtube.com/embed/gDeWucjm_JE","https://www.youtube.com/embed/cSeR2ztk9SY"]);
        myMap.set("Khalid", ["https://www.youtube.com/embed/56WBK4ZK_cw","https://www.youtube.com/embed/IPfJnp1guPc","https://www.youtube.com/embed/tk36ovCMsU8"]);
        myMap.set("Maroon5", ["https://www.youtube.com/embed/09R8_2nJtjg","https://www.youtube.com/embed/aJOTlE1K90k","https://www.youtube.com/embed/5Wiio4KoGe8"]);
        myMap.set("Queen",["https://www.youtube.com/embed/fJ9rUzIMcZQ","https://www.youtube.com/embed/HgzGwKwLmgM","https://www.youtube.com/embed/rY0WxgSXdEE"]);

        return myMap.get(l);
    }

    function addComment()
    {
        var parameters = location.search.substring(1).split("&");

        var temp = parameters[0].split("=");
        l = unescape(temp[1]);
        var artistMap = setArtistMap();
        var thisArt = artistMap.get(l);
        //
        // temp = parameters[1].split("=");
        // c = unescape(temp[1]);
        x = l;
        var urlArr = getURL(l);
        document.getElementById("log").innerHTML = getName(l);
        document.getElementById("img").src = "imgs/"+l+".jpg";
        document.getElementById("rate").innerText = getRate(l);
        document.getElementById("description").innerText = thisArt;
        document.getElementById("movie1").src = urlArr[0];
        document.getElementById("movie2").src = urlArr[1];
        document.getElementById("movie3").src = urlArr[2];
        // document.getElementById("pass").innerHTML = c;
    }
    addComment();

    function myFunction() {
        var parameters = location.search.substring(1).split("&");

        var temp = parameters[0].split("=");
        l = unescape(temp[1]);
        document.getElementById("star1").checked ? updateRate(getName(l), 1) :
        document.getElementById("star2").checked ? updateRate(getName(l), 2) :
        document.getElementById("star3").checked ? updateRate(getName(l), 3) :
        document.getElementById("star4").checked ? updateRate(getName(l), 4) :
        document.getElementById("star5").checked ? updateRate(getName(l), 5) : console.log(getName(l));
    }

    function updateRate(x, sum){
        write_cookie(x + "Sum", (+read_cookie(x + "Sum")) + sum);
        write_cookie(x + "Votes", (+read_cookie(x + "Votes")) + 1);
        console.log(read_cookie(x + "Sum"));
        console.log(x);
    }


</script>

</body>
</html>
